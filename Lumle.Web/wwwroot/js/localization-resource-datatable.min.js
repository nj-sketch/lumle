function Resource(){var n=$("#lblCulture").attr("value");table=$("#resourceDataTable").DataTable({language:{url:languageFileUrl},serverSide:!0,distory:!0,ajax:{type:"POST",url:rootDir+"localization/culture/DataHandler",contentType:"application/json; charset=utf-8",headers:{RequestVerificationToken:token},data:function(t){return t.Culture=n,t.ResourceCategoryId=resourceFilterBy,JSON.stringify(t)},error:function(n){var t=JSON.parse(n.getResponseHeader("X-Responded-JSON"));t.status===401&&(window.location.href=rootDir+"/login?ReturnUrl=%2localization/culture")}},processing:!0,paging:!0,deferRender:!0,columnDefs:[{searchable:!1,orderable:!1,targets:0,width:"5%"},{searchable:!1,orderable:!1,visible:!1,targets:[1,2]}],columns:[{data:"sn"},{data:"cultureId"},{data:"resourceCategoryId"},{data:"key",render:$.fn.dataTable.render.text()},{data:"value",render:renderInput},{data:"cultureId",render:actionButton,searchable:!1,orderable:!1,visible:hasPermissionForUpdateResource==!0?!0:!1}],order:[1,"asc"]})}function displaySuccess(n,t){toastr.success(n,t);toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}function displayError(n,t){toastr.error(n,t);toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}var resourceFilterBy=0,table,renderInput,actionButton;$(function(){Resource();$("#resourceFilterBy").change(function(){resourceFilterBy=$("#resourceFilterBy").val();$("#resourceDataTable").DataTable().clear().destroy();Resource()});$("#resourceDataTable tbody").on("click",".btn",function(n){var r;n.preventDefault();var t=$(this).parents("tr"),i=table.row(t).data(),u={CultureId:i.cultureId,ResourceCategoryId:i.resourceCategoryId,Key:i.key,Value:t.find("input").val()};$(this).prop("disabled",!0);t.find("img").show();r=$("input[type=hidden][name=__RequestVerificationToken]").val();$.ajax({type:"POST",url:rootDir+"localization/culture/addOrUpdateResource",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(u),headers:{RequestVerificationToken:r},success:function(n){t.find("button").prop("disabled",!1);t.find("img").hide();n!=null&&n.success?displaySuccess(n.message,n.messageTitle):displayError(n.message,n.messageTitle)},error:function(){t.find("button").prop("disabled",!1);t.find("img").hide();displayError("Opps. something went wrong. Please try again.","Error occured")}})});$("input[type=file]").change(function(){var n=$(this).val();n!==""?$("input[type=submit]").prop("disabled",!1):$("input[type=submit]").prop("disabled",!0)});$("form").on("submit",function(){return $(this).find("input[type=submit]").prop("disabled",!0),$("#loadingImg").show(),$(this).get(0).submit(),!1});$("#importExcelModel").removeAttr("padding-right")});renderInput=function(n){return hasPermissionForUpdateResource?'<input value="'+n+'"class="form-control" style="width:100%" />':'<input value="'+n+'"class="form-control" readonly style="width:100%" />'};actionButton=function(){return'<button class="btn btn-success btn-xs">'+saveButtonDisplayName+'<\/button><img style="width: 30px;display:none" src="'+rootDir+'assets/images/spinner/loader-dark.gif" alt="saving..." display="none">'};