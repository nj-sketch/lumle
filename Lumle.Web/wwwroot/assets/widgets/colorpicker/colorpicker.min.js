jQuery&&function(n){function v(t,i){var r=n('<div class="minicolors" />'),u=n.minicolors.defaults;if(!t.data("minicolors-initialized")){if(i=n.extend(!0,{},u,i),r.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),i.position!==undefined&&n.each(i.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-opacity-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-grid"><div class="minicolors-grid-inner"><\/div><div class="minicolors-picker"><div><\/div><\/div><\/div><\/div>'),!i.inline){t.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"><\/span><\/span>');t.next(".minicolors-swatch").on("click",function(n){n.preventDefault();t.focus()})}t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end();i.inline&&t.parent().addClass("minicolors-inline");f(t,!1);t.data("minicolors-initialized",!0)}}function h(n){var t=n.parent();n.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");t.before(n).remove()}function o(n){var t=n.parent(),r=t.find(".minicolors-panel"),i=n.data("minicolors-settings");!n.data("minicolors-initialized")||n.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(u(),t.addClass("minicolors-focus"),r.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(n.get(0))}))}function u(){n(".minicolors-focus").each(function(){var t=n(this),r=t.find(".minicolors-input"),u=t.find(".minicolors-panel"),i=r.data("minicolors-settings");u.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(r.get(0));t.removeClass("minicolors-focus")})})}function c(n,t,i){var s=n.parents(".minicolors").find(".minicolors-input"),h=s.data("minicolors-settings"),c=n.find("[class$=-picker]"),v=n.offset().left,y=n.offset().top,u=Math.round(t.pageX-v),r=Math.round(t.pageY-y),p=i?h.animationSpeed:0,e,o,a,f;t.originalEvent.changedTouches&&(u=t.originalEvent.changedTouches[0].pageX-v,r=t.originalEvent.changedTouches[0].pageY-y);u<0&&(u=0);r<0&&(r=0);u>n.width()&&(u=n.width());r>n.height()&&(r=n.height());n.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(e=75-u,o=75-r,a=Math.sqrt(e*e+o*o),f=Math.atan2(o,e),f<0&&(f+=Math.PI*2),a>75&&(a=75,u=75-75*Math.cos(f),r=75-75*Math.sin(f)),u=Math.round(u),r=Math.round(r));n.is(".minicolors-grid")?c.stop(!0).animate({top:r+"px",left:u+"px"},p,h.animationEasing,function(){l(s,n)}):c.stop(!0).animate({top:r+"px"},p,h.animationEasing,function(){l(s,n)})}function l(n,r){function nt(n,t){var i,r;return!n.length||!t?null:(i=n.offset().left,r=n.offset().top,{x:i-t.offset().left+n.outerWidth()/2,y:r-t.offset().top+n.outerHeight()/2})}var u,f,s,p,w,b,v,l=n.val(),k=n.attr("data-opacity"),y=n.parent(),d=n.data("minicolors-settings"),it=y.find(".minicolors-swatch"),o=y.find(".minicolors-grid"),c=y.find(".minicolors-slider"),tt=y.find(".minicolors-opacity-slider"),rt=o.find("[class$=-picker]"),ut=c.find("[class$=-picker]"),ft=tt.find("[class$=-picker]"),h=nt(rt,o),g=nt(ut,c),et=nt(ft,tt);if(r.is(".minicolors-grid, .minicolors-slider")){switch(d.control){case"wheel":p=o.width()/2-h.x;w=o.height()/2-h.y;b=Math.sqrt(p*p+w*w);v=Math.atan2(w,p);v<0&&(v+=Math.PI*2);b>75&&(b=75,h.x=69-75*Math.cos(v),h.y=69-75*Math.sin(v));f=t(b/.75,0,100);u=t(v*180/Math.PI,0,360);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));break;case"saturation":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(g.y*(100/c.height())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:100,b:s}));y.find(".minicolors-grid-inner").css("opacity",f/100);break;case"brightness":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(h.y*(100/o.height())),0,100);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:u=t(360-parseInt(g.y*(360/c.height()),10),0,360);f=t(Math.floor(h.x*(100/o.width())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});o.css("backgroundColor",i({h:u,s:100,b:100}))}n.val(e(l,d.letterCase))}r.is(".minicolors-opacity-slider")&&(k=d.opacity?parseFloat(1-et.y/tt.height()).toFixed(2):1,d.opacity&&n.attr("data-opacity",k));it.find("SPAN").css({backgroundColor:l,opacity:k});a(n,l,k)}function f(n,u){var c,f,v,l,o,g,nt,y=n.parent(),p=n.data("minicolors-settings"),tt=y.find(".minicolors-swatch"),s=y.find(".minicolors-grid"),h=y.find(".minicolors-slider"),w=y.find(".minicolors-opacity-slider"),b=s.find("[class$=-picker]"),d=h.find("[class$=-picker]"),it=w.find("[class$=-picker]");c=e(r(n.val(),!0),p.letterCase);c||(c=e(r(p.defaultValue,!0),p.letterCase));f=k(c);u||n.val(c);p.opacity&&(v=n.attr("data-opacity")===""?1:t(parseFloat(n.attr("data-opacity")).toFixed(2),0,1),isNaN(v)&&(v=1),n.attr("data-opacity",v),tt.find("SPAN").css("opacity",v),o=t(w.height()-w.height()*v,0,w.height()),it.css("top",o+"px"));tt.find("SPAN").css("backgroundColor",c);switch(p.control){case"wheel":g=t(Math.ceil(f.s*.75),0,s.height()/2);nt=f.h*Math.PI/180;l=t(75-Math.cos(nt)*g,0,s.width());o=t(75-Math.sin(nt)*g,0,s.height());b.css({top:o+"px",left:l+"px"});o=150-f.b/(100/s.height());c===""&&(o=0);d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));break;case"saturation":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.s*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:100,b:f.b}));y.find(".minicolors-grid-inner").css("opacity",f.s/100);break;case"brightness":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.s/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.b*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-f.b/100);break;default:l=t(Math.ceil(f.s/(100/s.width())),0,s.width());o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.h/(360/h.height()),0,h.height());d.css("top",o+"px");s.css("backgroundColor",i({h:f.h,s:100,b:100}))}n.data("minicolors-initialized")&&a(n,c,v)}function a(n,t,i){var r=n.data("minicolors-settings"),u=n.data("minicolors-lastChange");u&&u.hex===t&&u.opacity===i||(n.data("minicolors-lastChange",{hex:t,opacity:i}),r.change&&(r.changeDelay?(clearTimeout(n.data("minicolors-changeTimeout")),n.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(n.get(0),t,i)},r.changeDelay))):r.change.call(n.get(0),t,i)),n.trigger("change").trigger("input"))}function y(t){var f=r(n(t).val(),!0),i=s(f),u=n(t).attr("data-opacity");return i?(u!==undefined&&n.extend(i,{a:parseFloat(u)}),i):null}function p(t,i){var e=r(n(t).val(),!0),u=s(e),f=n(t).attr("data-opacity");return u?(f===undefined&&(f=1),i?"rgba("+u.r+", "+u.g+", "+u.b+", "+parseFloat(f)+")":"rgb("+u.r+", "+u.g+", "+u.b+")"):null}function e(n,t){return t==="uppercase"?n.toUpperCase():n.toLowerCase()}function r(n,t){return(n=n.replace(/[^A-F0-9]/ig,""),n.length!==3&&n.length!==6)?"":(n.length===3&&t&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"#"+n)}function t(n,t,i){return n<t&&(n=t),n>i&&(n=i),n}function w(n){var t={},u=Math.round(n.h),o=Math.round(n.s*255/100),e=Math.round(n.b*255/100);if(o===0)t.r=t.g=t.b=e;else{var i=e,r=(255-o)*e/255,f=(i-r)*(u%60)/60;u===360&&(u=0);u<60?(t.r=i,t.b=r,t.g=r+f):u<120?(t.g=i,t.b=r,t.r=i-f):u<180?(t.g=i,t.r=r,t.b=r+f):u<240?(t.b=i,t.r=r,t.g=i-f):u<300?(t.b=i,t.g=r,t.r=r+f):u<360?(t.r=i,t.g=r,t.b=i-f):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("")}function i(n){return b(w(n))}function k(n){var t=d(s(n));return t.s===0&&(t.h=360),t}function d(n){var t={h:0,s:0,b:0},u=Math.min(n.r,n.g,n.b),i=Math.max(n.r,n.g,n.b),r=i-u;return t.b=i,t.s=i!==0?255*r/i:0,t.h=t.s!==0?n.r===i?(n.g-n.b)/r:n.g===i?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function s(n){return n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16),{r:n>>16,g:(n&65280)>>8,b:n&255}}n.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}};n.extend(n.fn,{minicolors:function(t,i){switch(t){case"destroy":return n(this).each(function(){h(n(this))}),n(this);case"hide":return u(),n(this);case"opacity":return i===undefined?n(this).attr("data-opacity"):(n(this).each(function(){f(n(this).attr("data-opacity",i))}),n(this));case"rgbObject":return y(n(this),t==="rgbaObject");case"rgbString":case"rgbaString":return p(n(this),t==="rgbaString");case"settings":return i===undefined?n(this).data("minicolors-settings"):(n(this).each(function(){var t=n(this).data("minicolors-settings")||{};h(n(this));n(this).minicolors(n.extend(!0,t,i))}),n(this));case"show":return o(n(this).eq(0)),n(this);case"value":return i===undefined?n(this).val():(n(this).each(function(){f(n(this).val(i))}),n(this));default:return t!=="create"&&(i=t),n(this).each(function(){v(n(this),i)}),n(this)}}});n(document).on("mousedown.minicolors touchstart.minicolors",function(t){n(t.target).parents().add(t.target).hasClass("minicolors")||u()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=n(this);t.preventDefault();n(document).data("minicolors-target",i);c(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=n(document).data("minicolors-target");i&&c(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){n(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var i=n(this).parent().find(".minicolors-input");t.preventDefault();o(i)}).on("focus.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&o(t)}).on("blur.minicolors",".minicolors-input",function(){var t=n(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(r(t.val(),!0)),t.val()===""&&t.val(r(i.defaultValue,!0)),t.val(e(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=n(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:u();break;case 13:case 27:u();i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&f(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&setTimeout(function(){f(t,!0)},1)})}(jQuery);