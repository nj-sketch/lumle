(function(n){var t=function(){return!1===n.support.boxModel&&n.support.objectAll&&n.support.leadingWhitespace}();n.jGrowl=function(t,i){n("#jGrowl").size()===0&&n('<div id="jGrowl"><\/div>').addClass(i&&i.position?i.position:n.jGrowl.defaults.position).appendTo("body");n("#jGrowl").jGrowl(t,i)};n.fn.jGrowl=function(t,i){if(n.isFunction(this.each)){var r=arguments;return this.each(function(){n(this).data("jGrowl.instance")===undefined&&(n(this).data("jGrowl.instance",n.extend(new n.fn.jGrowl,{notifications:[],element:null,interval:null})),n(this).data("jGrowl.instance").startup(this));n.isFunction(n(this).data("jGrowl.instance")[t])?n(this).data("jGrowl.instance")[t].apply(n(this).data("jGrowl.instance"),n.makeArray(r).slice(1)):n(this).data("jGrowl.instance").create(t,i)})}};n.extend(n.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]<\/div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,i){var r=n.extend({},this.defaults,i);typeof r.speed!="undefined"&&(r.openDuration=r.speed,r.closeDuration=r.speed);this.notifications.push({message:t,options:r});r.log.apply(this.element,[this.element,t,r])},render:function(t){var u=this,f=t.message,i=t.options,r;i.themeState=i.themeState===""?"":"ui-state-"+i.themeState;r=n("<div/>").addClass("jGrowl-notification "+i.themeState+" ui-corner-all"+(i.group!==undefined&&i.group!==""?" "+i.group:"")).append(n("<div/>").addClass("jGrowl-close").html(i.closeTemplate)).append(n("<div/>").addClass("jGrowl-header").html(i.header)).append(n("<div/>").addClass("jGrowl-message").html(f)).data("jGrowl",i).addClass(i.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){n(this).parent().trigger("jGrowl.beforeClose")}).parent();n(r).bind("mouseover.jGrowl",function(){n("div.jGrowl-notification",u.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){n("div.jGrowl-notification",u.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){i.beforeOpen.apply(r,[r,f,i,u.element])!==!1&&n(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){i.open.apply(r,[r,f,i,u.element])!==!1&&(i.glue=="after"?n("div.jGrowl-notification:last",u.element).after(r):n("div.jGrowl-notification:first",u.element).before(r),n(this).animate(i.animateOpen,i.openDuration,i.easing,function(){n.support.opacity===!1&&this.style.removeAttribute("filter");n(this).data("jGrowl")!==null&&(n(this).data("jGrowl").created=new Date);n(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){i.afterOpen.apply(r,[r,f,i,u.element])}).bind("jGrowl.beforeClose",function(){i.beforeClose.apply(r,[r,f,i,u.element])!==!1&&n(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){n(this).data("jGrowl.pause",!0);n(this).animate(i.animateClose,i.closeDuration,i.easing,function(){n.isFunction(i.close)?i.close.apply(r,[r,f,i,u.element])!==!1&&n(this).remove():n(this).remove()})}).trigger("jGrowl.beforeOpen");i.corners!==""&&n.fn.corner!==undefined&&n(r).corner(i.corners);n("div.jGrowl-notification:parent",u.element).size()>1&&n("div.jGrowl-closer",u.element).size()===0&&this.defaults.closer!==!1&&n(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(u.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){n(this).siblings().trigger("jGrowl.beforeClose");n.isFunction(u.defaults.closer)&&u.defaults.closer.apply(n(this).parent()[0],[n(this).parent()[0]])})},update:function(){n(this.element).find("div.jGrowl-notification:parent").each(function(){n(this).data("jGrowl")!==undefined&&n(this).data("jGrowl").created!==undefined&&n(this).data("jGrowl").created.getTime()+parseInt(n(this).data("jGrowl").life,10)<(new Date).getTime()&&n(this).data("jGrowl").sticky!==!0&&(n(this).data("jGrowl.pause")===undefined||n(this).data("jGrowl.pause")!==!0)&&n(this).trigger("jGrowl.beforeClose")});this.notifications.length>0&&(this.defaults.pool===0||n(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift());n(this.element).find("div.jGrowl-notification:parent").size()<2&&n(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){n(this).remove()})},startup:function(i){this.element=n(i).addClass("jGrowl").append('<div class="jGrowl-notification"><\/div>');this.interval=setInterval(function(){n(i).data("jGrowl.instance").update()},parseInt(this.defaults.check,10));t&&n(this.element).addClass("ie6")},shutdown:function(){n(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty();clearInterval(this.interval)},close:function(){n(this.element).find("div.jGrowl-notification").each(function(){n(this).trigger("jGrowl.beforeClose")})}});n.jGrowl.defaults=n.fn.jGrowl.prototype.defaults})(jQuery);