!function(n){var t={replaceURL:!1,target:"#loadingbar-frame",direction:"right",async:!0,complete:function(){},cache:!0,error:function(){},global:!0,headers:{},statusCode:{},success:function(){},dataType:"html"};n.fx.step.textShadowBlur=function(t){n(t.elem).prop("textShadowBlur",t.now).css({textShadow:"0 0 "+Math.floor(t.now)+"px black"})};n.fn.loadingbar=function(i){var r=n.extend({},t,i),u=n(this),f=u.attr("href"),e=u.data("target")?u.data("target"):r.target,o=u.data("type")?u.data("type"):r.type,s=u.data("datatype")?u.data("datatype"):r.dataType;return this.each(function(){u.click(function(){return n.ajax({type:o,url:f,async:r.async,complete:r.complete,cache:r.cache,error:r.error,global:r.global,headers:r.headers,statusCode:r.statusCode,success:r.success,dataType:s,beforeSend:function(){if(n("#loadingbar").length===0){n("body").append("<div id='loadingbar'><\/div>");n("#loadingbar").addClass("waiting").append(n("<dt/><dd/>"));switch(r.direction){case"right":n("#loadingbar").width(50+Math.random()*30+"%");break;case"left":n("#loadingbar").addClass("left").animate({right:0,left:100-(50+Math.random()*30)+"%"},200);break;case"down":n("#loadingbar").addClass("down").animate({left:0,height:50+Math.random()*30+"%"},200);break;case"up":n("#loadingbar").addClass("up").animate({left:0,top:100-(50+Math.random()*30)+"%"},200)}}}}).always(function(){switch(r.direction){case"right":n("#loadingbar").width("101%").delay(200).fadeOut(400,function(){n(this).remove()});break;case"left":n("#loadingbar").css("left","0").delay(200).fadeOut(400,function(){n(this).remove()});break;case"down":n("#loadingbar").height("101%").delay(200).fadeOut(400,function(){n(this).remove()});break;case"up":n("#loadingbar").css("top","0").delay(200).fadeOut(400,function(){n(this).remove()})}}).done(function(t){history.replaceState&&r.replaceURL==!0&&history.pushState({},document.title,f);r.done?r.done(t,e):n(e).html(t)}),!1})})}}(window.jQuery);